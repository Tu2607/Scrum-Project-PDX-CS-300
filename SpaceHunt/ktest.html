<html>
    <meta charset="UTF-8">
<head>
    
<! --
//
// *** 
// *** JavaScript functions loaded as include files
// *** Allows each team member to own their own code
// ***
//
-->

<!--
// *** User Story: SH-3	Running out of energy	Priority: HIGH
// *** Story: As a player, I want to be notified when I run out of
// *** energy so I know I have lost the game
-->


<!--
// *** User Story: SH-4	Running out of supplies	Priority: HIGH
// *** Story: As a player, I want to be notified when I run out of
// *** supplies so I know I have lost the game
-->


<!--
// *** User Story: SH-1	Spacecraft Movement	Priority: HIGH
// *** Story: As a player, I want to be able to move my spacecraft 
// *** 0, 90, 180 or 270 degrees, and a specific distance from my 
// *** current position so I can visit celestial points in the game space.
-->
<script src="SpaceCraftMovement.js"></script>
<script src="sensors.js"></script>
<script src="classes.js"></script>

<script> 
    var ctx = null;
    var tWidth = 10, tHeight = 10;
    var row = 126, col = 126;
    var cWidth = row * tWidth;
    var cHeight = col * tHeight;

    var space = [row * col];
    var ship = new Ship(100,3, 0, 0);
    ship_image = new Image();
    ship_image.src = 'http://3.bp.blogspot.com/-cg1jtrxaZ8Y/Ufl5SmFUVaI/AAAAAAAAAzY/KBxNVcMmOB0/s1600/F5S4.png'


    
    window.onload = function(){
        ctx = document.getElementById('map').getContext('2d');
        requestAnimationFrame(draw);
    }


    function ship_source(ship){
        ctx.drawImage(ship_image, ship.x * tWidth, ship.y * tHeight, tWidth, tHeight);
    }

    space[1] = 1;


    function draw(){
        for(var i = 0; i < col; i++){
            for(var j = 0; j < col; j++){
                if(space[((i * col) + j)] == 1) {
                        ctx.fillStyle = "gray";
                }
                else if(space[((i * col) + j)] == 2) {
                        ctx.fillStyle = "purple";
                }
                else{
                        ctx.fillStyle = "black";
                }
                ctx.fillRect(i * tWidth, j * tHeight, tWidth, tHeight)
            } 
        }
        ship_source(ship);
    }


    artifacts = []
    artifact = new Artifact("Xenon", false, 2, 2);
    artifacts.push(artifact);
    artifact = new Artifact("Ryzen", false, 2, 5);
    artifacts.push(artifact);
    artifact = new Artifact("Celeron", false, 1, 1);
    artifacts.push(artifact);

    function close(){
        for(var i = 0; i < col; i++){
            for(var j = 0; j < row; j++){
                if(Math.sqrt((ship.x-i)**2 + (ship.y-j)**2) <= 2)
                space[i * col + j] = 2;
                
            }
        }

    }

    

    sensor(ship, artifacts)

    function drawPlayerPosition(){
        for(var y = 0; y < mHeight; y++){
            for(var x = 0; x < mWidth; x++){



                
                
            }
        }
    }
</script>


</head>

<body>
<h1>SpaceHunt</h1>
<form name=UI>
    <canvas id='map' width='1260' height="1260"></canvas>
    <script>
    </script>
STATUS
<p>Current Location: 
X <input type=text name=xValue size=4>
Y <input type=text name=yValue size=4>
<p>
<p>Energy <input type=text name=energy size=4>
<p>Supplies <input type=text name=supplies size=4>%
<p>
<hr>
MAKE A MOVE
<p>Distance <input type=text name=distance size=4>
<p>
<input type=button value="0" onclick=moveSpacecraft(0,distance)>
<input type=button value="90" onclick=moveSpacecraft(90,distance)>
<input type=button value="180" onclick=moveSpacecraft(180,distance)>
<input type=button value="270" onclick=moveSpacecraft(270,distance)>

</form>

</body>

</html>